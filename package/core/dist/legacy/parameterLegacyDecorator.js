"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var decorator_1 = require("../decorator");
var addParam_1 = require("../registry/addParam");
/**
 * Creates legacy parameter decorator which execute logic on runtime.
 *
 * @param name Decorator name.
 * @param logic Logic to execute.
 * @param metadata Configs & params.
 * @return Created param decorator.
 */
function parameterLegacyDecorator(name, logic, metadata) {
    // Legacy parameter decorator.
    return function (target, property, paramIndex) {
        // Register decorator at the param.
        addParam_1.addParam(target, property, paramIndex, {
            name: name,
            metadata: metadata,
            spec: 'ts',
            type: decorator_1.Decorator.Parameter
        });
        // Execute decorator logic at runtime.
        logic(target, property, paramIndex, metadata);
    };
}
exports.parameterLegacyDecorator = parameterLegacyDecorator;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyYW1ldGVyTGVnYWN5RGVjb3JhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL2xlZ2FjeS9wYXJhbWV0ZXJMZWdhY3lEZWNvcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwwQ0FBeUM7QUFDekMsaURBQWdEO0FBWWhEOzs7Ozs7O0dBT0c7QUFDSCxTQUFnQix3QkFBd0IsQ0FBQyxJQUFTLEVBQUUsS0FBcUIsRUFBRSxRQUFjO0lBQ3ZGLDhCQUE4QjtJQUM5QixPQUFPLFVBQUMsTUFBYyxFQUFFLFFBQXFCLEVBQUUsVUFBa0I7UUFDL0QsbUNBQW1DO1FBQ25DLG1CQUFRLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7WUFDckMsSUFBSSxNQUFBO1lBQ0osUUFBUSxVQUFBO1lBQ1IsSUFBSSxFQUFFLElBQUk7WUFDVixJQUFJLEVBQUUscUJBQVMsQ0FBQyxTQUFTO1NBQzFCLENBQUMsQ0FBQztRQUVILHNDQUFzQztRQUN0QyxLQUFLLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEQsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQWRELDREQWNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGVjb3JhdG9yIH0gZnJvbSAnLi4vZGVjb3JhdG9yJztcbmltcG9ydCB7IGFkZFBhcmFtIH0gZnJvbSAnLi4vcmVnaXN0cnkvYWRkUGFyYW0nO1xuXG4vKipcbiAqIERlY29yYXRvciBsb2dpYyB0byBiZSBleGVjdXRlZC5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IENsYXNzIChwcm90b3R5cGUpLlxuICogQHBhcmFtIHByb3BlcnR5IE1ldGhvZCBuYW1lLlxuICogQHBhcmFtIHBhcmFtSW5kZXggUGFyYW1ldGVyIGluZGV4LlxuICogQHBhcmFtIG1ldGFkYXRhIENvbmZpZ3MgJiBwYXJhbXMuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcmFtZXRlckxvZ2ljID0gKHRhcmdldDogYW55LCBwcm9wZXJ0eTogUHJvcGVydHlLZXksIHBhcmFtSW5kZXg6IG51bWJlciwgbWV0YWRhdGE6IGFueSkgPT4gdm9pZDtcblxuLyoqXG4gKiBDcmVhdGVzIGxlZ2FjeSBwYXJhbWV0ZXIgZGVjb3JhdG9yIHdoaWNoIGV4ZWN1dGUgbG9naWMgb24gcnVudGltZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBEZWNvcmF0b3IgbmFtZS5cbiAqIEBwYXJhbSBsb2dpYyBMb2dpYyB0byBleGVjdXRlLlxuICogQHBhcmFtIG1ldGFkYXRhIENvbmZpZ3MgJiBwYXJhbXMuXG4gKiBAcmV0dXJuIENyZWF0ZWQgcGFyYW0gZGVjb3JhdG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyYW1ldGVyTGVnYWN5RGVjb3JhdG9yKG5hbWU6IGFueSwgbG9naWM6IFBhcmFtZXRlckxvZ2ljLCBtZXRhZGF0YT86IGFueSk6IFBhcmFtZXRlckRlY29yYXRvciB7XG4gIC8vIExlZ2FjeSBwYXJhbWV0ZXIgZGVjb3JhdG9yLlxuICByZXR1cm4gKHRhcmdldDogb2JqZWN0LCBwcm9wZXJ0eTogUHJvcGVydHlLZXksIHBhcmFtSW5kZXg6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgIC8vIFJlZ2lzdGVyIGRlY29yYXRvciBhdCB0aGUgcGFyYW0uXG4gICAgYWRkUGFyYW0odGFyZ2V0LCBwcm9wZXJ0eSwgcGFyYW1JbmRleCwge1xuICAgICAgbmFtZSxcbiAgICAgIG1ldGFkYXRhLFxuICAgICAgc3BlYzogJ3RzJyxcbiAgICAgIHR5cGU6IERlY29yYXRvci5QYXJhbWV0ZXJcbiAgICB9KTtcblxuICAgIC8vIEV4ZWN1dGUgZGVjb3JhdG9yIGxvZ2ljIGF0IHJ1bnRpbWUuXG4gICAgbG9naWModGFyZ2V0LCBwcm9wZXJ0eSwgcGFyYW1JbmRleCwgbWV0YWRhdGEpO1xuICB9O1xufVxuIl19