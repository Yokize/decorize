"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var isUndefined_1 = __importDefault(require("lodash/isUndefined"));
var storage_1 = require("./storage");
function getFromStorage(key, target, property) {
    // Get existing storage from the object.
    var storage = storage_1.getStorage(target);
    // Get metadata from the storage.
    return isUndefined_1.default(property) ? storage.root[key] : storage.prop[property] && storage.prop[property][key];
}
exports.getFromStorage = getFromStorage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL3JlZmxlY3QvZmFsbGJhY2svZ2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbUVBQTZDO0FBQzdDLHFDQUFnRDtBQXdCaEQsU0FBZ0IsY0FBYyxDQUFDLEdBQVEsRUFBRSxNQUFjLEVBQUUsUUFBc0I7SUFDN0Usd0NBQXdDO0lBQ3hDLElBQU0sT0FBTyxHQUFZLG9CQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFNUMsaUNBQWlDO0lBQ2pDLE9BQU8scUJBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNHLENBQUM7QUFORCx3Q0FNQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpc1VuZGVmaW5lZCBmcm9tICdsb2Rhc2gvaXNVbmRlZmluZWQnO1xuaW1wb3J0IHsgZ2V0U3RvcmFnZSwgU3RvcmFnZSB9IGZyb20gJy4vc3RvcmFnZSc7XG5cbi8qKlxuICogQ3VzdG9tIGxvZ2ljIHRvIGdldCB0aGUgbWV0YWRhdGEgZnJvbSB0aGUgb2JqZWN0LlxuICogTm90IGluY2x1ZGVkIGFueSBtZXRhZGF0YSBleGlzdGVuY2UgY2hlY2tpbmcgYXMgaXRzIGRvbmUgb24gaGlnaGVyIGxldmVsXG4gKiB3aXRoIGFwcHJvcHJpYXRlIGhhbmRsaW5nLlxuICpcbiAqIEBwYXJhbSBrZXkgS2V5IHVzZWQgdG8gcmV0cmlldmUgbWV0YWRhdGEuXG4gKiBAcGFyYW0gdGFyZ2V0IE9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAqIEByZXR1cm4gTWV0YWRhdGEgZm9yIHRoZSBrZXkgaW4gY2FzZSBpdHMgZm91bmQ7IHVuZGVmaW5lZCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGcm9tU3RvcmFnZShrZXk6IGFueSwgdGFyZ2V0OiBvYmplY3QpOiBhbnk7XG5cbi8qKlxuICogQ3VzdG9tIGxvZ2ljIHRvIGdldCB0aGUgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIHByb3BlcnR5IGZyb20gdGhlIG9iamVjdC5cbiAqIE5vdCBpbmNsdWRlZCBhbnkgbWV0YWRhdGEgZXhpc3RlbmNlIGNoZWNraW5nIGFzIGl0cyBkb25lIG9uIGhpZ2hlciBsZXZlbFxuICogd2l0aCBhcHByb3ByaWF0ZSBoYW5kbGluZy5cbiAqXG4gKiBAcGFyYW0ga2V5IEtleSB1c2VkIHRvIHJldHJpZXZlIG1ldGFkYXRhLlxuICogQHBhcmFtIHRhcmdldCBPYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gKiBAcGFyYW0gcHJvcGVydHkgUHJvcGVydHkgYXNzb2NpYXRlZCB3aXRoIG1ldGFkYXRhLlxuICogQHJldHVybiBNZXRhZGF0YSBmb3IgdGhlIGtleSBpbiBjYXNlIGl0cyBmb3VuZDsgdW5kZWZpbmVkIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyb21TdG9yYWdlKGtleTogYW55LCB0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHk6IFByb3BlcnR5S2V5KTogYW55O1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZyb21TdG9yYWdlKGtleTogYW55LCB0YXJnZXQ6IG9iamVjdCwgcHJvcGVydHk/OiBQcm9wZXJ0eUtleSk6IGFueSB7XG4gIC8vIEdldCBleGlzdGluZyBzdG9yYWdlIGZyb20gdGhlIG9iamVjdC5cbiAgY29uc3Qgc3RvcmFnZTogU3RvcmFnZSA9IGdldFN0b3JhZ2UodGFyZ2V0KTtcblxuICAvLyBHZXQgbWV0YWRhdGEgZnJvbSB0aGUgc3RvcmFnZS5cbiAgcmV0dXJuIGlzVW5kZWZpbmVkKHByb3BlcnR5KSA/IHN0b3JhZ2Uucm9vdFtrZXldIDogc3RvcmFnZS5wcm9wW3Byb3BlcnR5XSAmJiBzdG9yYWdlLnByb3BbcHJvcGVydHldW2tleV07XG59XG4iXX0=